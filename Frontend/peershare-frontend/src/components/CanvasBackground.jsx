import { useEffect, useRef } from "react";
import { motion } from "framer-motion";
export default function CanvasBackground() {
   const canvasRef = useRef();
   const wrapperRef = useRef();
   useEffect(() => {
      const canvas = canvasRef.current;
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      const noOfBoxes = 20;

      const mouse = {
         x: innerWidth / 2,
         y: innerHeight / 2,
      };

      window.addEventListener("resize", () => {
         canvas.width = window.innerWidth;
         canvas.height = window.innerHeight;
         drawBoard(window.innerWidth, window.innerHeight, window.innerHeight / noOfBoxes);
      });

      const context = canvas.getContext("2d");
      // board
      function drawBoard(width, height, size) {
         context.beginPath();
         for (let x = 0; x <= width; x += size) {
            context.moveTo(0 + x, 0);
            context.lineTo(0 + x, height);
         }
         -0.5;
         for (let x = 0; x <= height; x += size) {
            context.moveTo(0, x);
            context.lineTo(width, x);
         }
         context.setLineDash([0, 0]);
         context.strokeStyle = "#64748b88";
         context.lineWidth = 1;
         context.stroke();
      }

      // lines
      const drawLines = () => {
         context.beginPath();
         context.moveTo(mouse.x, 0);
         context.lineTo(mouse.x, innerHeight);

         context.moveTo(0, mouse.y);
         context.lineTo(innerWidth, mouse.y);

         context.setLineDash([10, 2]);
         context.strokeStyle = "#e4f57d";
         context.lineWidth = 1;
         context.stroke();
      };

      window.addEventListener("mousemove", (event) => {
         mouse.x = event.x;
         mouse.y = event.y;
      });

      const animate = () => {
         requestAnimationFrame(animate);
         context.clearRect(0, 0, innerWidth, innerHeight);
         drawBoard(window.innerWidth, window.innerHeight, window.innerHeight / noOfBoxes);
         drawLines();
      };
      animate();
   }, []);

   return (
      <div ref={wrapperRef} className="wrapper relative overflow-hidden dark:text-white">
         <canvas ref={canvasRef} className="block  bg-primaryDark" />
         <div className="website-name select-none cursor-default absolute top-[45%] left-1/2 -translate-x-1/2 text-9xl font-playWrite flex flex-nowrap">
            PeerShare
            <span className="inline-block text-[200px] text-logoGreen -mt-20 -ml-2">.</span>
            
            <motion.div
               initial={{ scale: 0, opacity: 0 }}
               animate={{
                  scale: [1.2, 1],
                  y: [-10, -5, 0, 5, 10, 5, 0, -5, -10],
                  opacity: 1,
                  transition: {
                     delay: 0.3,
                     duration: 0.1,
                     type: "spring",
                     stiffness: 300,
                     y: { repeat: Infinity, ease: "linear", duration: 3 },
                  },
               }}
               className="image-container absolute top-0 left-0 w-full h-full">
                  {/* books */}
               <svg
                  className="absolute -top-40 -left-24 w-20 -rotate-[40deg] text-white dark:stroke-logoLightGreen"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 10.4V20M12 10.4C12 8.15979 12 7.03969 11.564 6.18404C11.1805 5.43139 10.5686 4.81947 9.81596 4.43597C8.96031 4 7.84021 4 5.6 4H4.6C4.03995 4 3.75992 4 3.54601 4.10899C3.35785 4.20487 3.20487 4.35785 3.10899 4.54601C3 4.75992 3 5.03995 3 5.6V16.4C3 16.9601 3 17.2401 3.10899 17.454C3.20487 17.6422 3.35785 17.7951 3.54601 17.891C3.75992 18 4.03995 18 4.6 18H7.54668C8.08687 18 8.35696 18 8.61814 18.0466C8.84995 18.0879 9.0761 18.1563 9.29191 18.2506C9.53504 18.3567 9.75977 18.5065 10.2092 18.8062L12 20M12 10.4C12 8.15979 12 7.03969 12.436 6.18404C12.8195 5.43139 13.4314 4.81947 14.184 4.43597C15.0397 4 16.1598 4 18.4 4H19.4C19.9601 4 20.2401 4 20.454 4.10899C20.6422 4.20487 20.7951 4.35785 20.891 4.54601C21 4.75992 21 5.03995 21 5.6V16.4C21 16.9601 21 17.2401 20.891 17.454C20.7951 17.6422 20.6422 17.7951 20.454 17.891C20.2401 18 19.9601 18 19.4 18H16.4533C15.9131 18 15.643 18 15.3819 18.0466C15.15 18.0879 14.9239 18.1563 14.7081 18.2506C14.465 18.3567 14.2402 18.5065 13.7908 18.8062L12 20" />
               </svg>
               <svg
                  className="absolute -top-72 right-44  w-36 rotate-[45deg] text-white dark:stroke-logoLightGreen"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 10.4V20M12 10.4C12 8.15979 12 7.03969 11.564 6.18404C11.1805 5.43139 10.5686 4.81947 9.81596 4.43597C8.96031 4 7.84021 4 5.6 4H4.6C4.03995 4 3.75992 4 3.54601 4.10899C3.35785 4.20487 3.20487 4.35785 3.10899 4.54601C3 4.75992 3 5.03995 3 5.6V16.4C3 16.9601 3 17.2401 3.10899 17.454C3.20487 17.6422 3.35785 17.7951 3.54601 17.891C3.75992 18 4.03995 18 4.6 18H7.54668C8.08687 18 8.35696 18 8.61814 18.0466C8.84995 18.0879 9.0761 18.1563 9.29191 18.2506C9.53504 18.3567 9.75977 18.5065 10.2092 18.8062L12 20M12 10.4C12 8.15979 12 7.03969 12.436 6.18404C12.8195 5.43139 13.4314 4.81947 14.184 4.43597C15.0397 4 16.1598 4 18.4 4H19.4C19.9601 4 20.2401 4 20.454 4.10899C20.6422 4.20487 20.7951 4.35785 20.891 4.54601C21 4.75992 21 5.03995 21 5.6V16.4C21 16.9601 21 17.2401 20.891 17.454C20.7951 17.6422 20.6422 17.7951 20.454 17.891C20.2401 18 19.9601 18 19.4 18H16.4533C15.9131 18 15.643 18 15.3819 18.0466C15.15 18.0879 14.9239 18.1563 14.7081 18.2506C14.465 18.3567 14.2402 18.5065 13.7908 18.8062L12 20" />
               </svg>
               <svg
                  className="absolute -bottom-40 -right-44  w-32 rotate-[45deg] text-white dark:stroke-logoLightGreen"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 10.4V20M12 10.4C12 8.15979 12 7.03969 11.564 6.18404C11.1805 5.43139 10.5686 4.81947 9.81596 4.43597C8.96031 4 7.84021 4 5.6 4H4.6C4.03995 4 3.75992 4 3.54601 4.10899C3.35785 4.20487 3.20487 4.35785 3.10899 4.54601C3 4.75992 3 5.03995 3 5.6V16.4C3 16.9601 3 17.2401 3.10899 17.454C3.20487 17.6422 3.35785 17.7951 3.54601 17.891C3.75992 18 4.03995 18 4.6 18H7.54668C8.08687 18 8.35696 18 8.61814 18.0466C8.84995 18.0879 9.0761 18.1563 9.29191 18.2506C9.53504 18.3567 9.75977 18.5065 10.2092 18.8062L12 20M12 10.4C12 8.15979 12 7.03969 12.436 6.18404C12.8195 5.43139 13.4314 4.81947 14.184 4.43597C15.0397 4 16.1598 4 18.4 4H19.4C19.9601 4 20.2401 4 20.454 4.10899C20.6422 4.20487 20.7951 4.35785 20.891 4.54601C21 4.75992 21 5.03995 21 5.6V16.4C21 16.9601 21 17.2401 20.891 17.454C20.7951 17.6422 20.6422 17.7951 20.454 17.891C20.2401 18 19.9601 18 19.4 18H16.4533C15.9131 18 15.643 18 15.3819 18.0466C15.15 18.0879 14.9239 18.1563 14.7081 18.2506C14.465 18.3567 14.2402 18.5065 13.7908 18.8062L12 20" />
               </svg>
               {/* pens */}
               <svg
                  className="w-36  absolute -right-96 -rotate-[40deg] -bottom-80 dark:stroke-logoLightGreen"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg">
                  <path d="M18.3282 8.32837L15.8939 5.89405C14.7058 4.706 14.1118 4.11198 13.4268 3.88941C12.8243 3.69364 12.1752 3.69364 11.5727 3.88941C10.8877 4.11198 10.2937 4.706 9.10564 5.89405L7.49975 7.49994M3 20.9997L3.04745 20.6675C3.21536 19.4922 3.29932 18.9045 3.49029 18.3558C3.65975 17.8689 3.89124 17.4059 4.17906 16.9783C4.50341 16.4963 4.92319 16.0765 5.76274 15.237L17.4107 3.58896C18.1918 2.80791 19.4581 2.80791 20.2392 3.58896C21.0202 4.37001 21.0202 5.63634 20.2392 6.41739L8.37744 18.2791C7.61579 19.0408 7.23497 19.4216 6.8012 19.7244C6.41618 19.9932 6.00093 20.2159 5.56398 20.3879C5.07171 20.5817 4.54375 20.6882 3.48793 20.9012L3 20.9997Z" />
               </svg>
               <svg
                  className="w-40  absolute -left-56 -rotate-90 -bottom-20 dark:stroke-logoLightGreen"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg">
                  <path d="M18.3282 8.32837L15.8939 5.89405C14.7058 4.706 14.1118 4.11198 13.4268 3.88941C12.8243 3.69364 12.1752 3.69364 11.5727 3.88941C10.8877 4.11198 10.2937 4.706 9.10564 5.89405L7.49975 7.49994M3 20.9997L3.04745 20.6675C3.21536 19.4922 3.29932 18.9045 3.49029 18.3558C3.65975 17.8689 3.89124 17.4059 4.17906 16.9783C4.50341 16.4963 4.92319 16.0765 5.76274 15.237L17.4107 3.58896C18.1918 2.80791 19.4581 2.80791 20.2392 3.58896C21.0202 4.37001 21.0202 5.63634 20.2392 6.41739L8.37744 18.2791C7.61579 19.0408 7.23497 19.4216 6.8012 19.7244C6.41618 19.9932 6.00093 20.2159 5.56398 20.3879C5.07171 20.5817 4.54375 20.6882 3.48793 20.9012L3 20.9997Z" />
               </svg>
               <svg
                  className="w-20 absolute left-10 -top-72 rotate-[80deg] dark:stroke-logoLightGreen"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg">
                  <path d="M18.3282 8.32837L15.8939 5.89405C14.7058 4.706 14.1118 4.11198 13.4268 3.88941C12.8243 3.69364 12.1752 3.69364 11.5727 3.88941C10.8877 4.11198 10.2937 4.706 9.10564 5.89405L7.49975 7.49994M3 20.9997L3.04745 20.6675C3.21536 19.4922 3.29932 18.9045 3.49029 18.3558C3.65975 17.8689 3.89124 17.4059 4.17906 16.9783C4.50341 16.4963 4.92319 16.0765 5.76274 15.237L17.4107 3.58896C18.1918 2.80791 19.4581 2.80791 20.2392 3.58896C21.0202 4.37001 21.0202 5.63634 20.2392 6.41739L8.37744 18.2791C7.61579 19.0408 7.23497 19.4216 6.8012 19.7244C6.41618 19.9932 6.00093 20.2159 5.56398 20.3879C5.07171 20.5817 4.54375 20.6882 3.48793 20.9012L3 20.9997Z" />
               </svg>
               <svg
                  className="w-20 absolute -right-10 -top-28 dark:stroke-logoLightGreen"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg">
                  <path d="M18.3282 8.32837L15.8939 5.89405C14.7058 4.706 14.1118 4.11198 13.4268 3.88941C12.8243 3.69364 12.1752 3.69364 11.5727 3.88941C10.8877 4.11198 10.2937 4.706 9.10564 5.89405L7.49975 7.49994M3 20.9997L3.04745 20.6675C3.21536 19.4922 3.29932 18.9045 3.49029 18.3558C3.65975 17.8689 3.89124 17.4059 4.17906 16.9783C4.50341 16.4963 4.92319 16.0765 5.76274 15.237L17.4107 3.58896C18.1918 2.80791 19.4581 2.80791 20.2392 3.58896C21.0202 4.37001 21.0202 5.63634 20.2392 6.41739L8.37744 18.2791C7.61579 19.0408 7.23497 19.4216 6.8012 19.7244C6.41618 19.9932 6.00093 20.2159 5.56398 20.3879C5.07171 20.5817 4.54375 20.6882 3.48793 20.9012L3 20.9997Z" />
               </svg>
               {/* Student cap */}
               <svg
                  className="w-28 absolute dark:fill-logoLightGreen -bottom-56 -left-80 rotate-12"
                  version="1.1"
                  id="_x32_"
                  xmlns="http://www.w3.org/2000/svg"
                  xmlnsXlink="http://www.w3.org/1999/xlink"
                  viewBox="0 0 512 512"
                  xmlSpace="preserve">
                  <g>
                     <path
                        className="st0"
                        d="M505.837,180.418L279.265,76.124c-7.349-3.385-15.177-5.093-23.265-5.093c-8.088,0-15.914,1.708-23.265,5.093
		L6.163,180.418C2.418,182.149,0,185.922,0,190.045s2.418,7.896,6.163,9.627l226.572,104.294c7.349,3.385,15.177,5.101,23.265,5.101
		c8.088,0,15.916-1.716,23.267-5.101l178.812-82.306v82.881c-7.096,0.8-12.63,6.84-12.63,14.138c0,6.359,4.208,11.864,10.206,13.618
		l-12.092,79.791h55.676l-12.09-79.791c5.996-1.754,10.204-7.259,10.204-13.618c0-7.298-5.534-13.338-12.63-14.138v-95.148
		l21.116-9.721c3.744-1.731,6.163-5.504,6.163-9.627S509.582,182.149,505.837,180.418z"
                     />
                     <path
                        className="st0"
                        d="M256,346.831c-11.246,0-22.143-2.391-32.386-7.104L112.793,288.71v101.638
		c0,22.314,67.426,50.621,143.207,50.621c75.782,0,143.209-28.308,143.209-50.621V288.71l-110.827,51.017
		C278.145,344.44,267.25,346.831,256,346.831z"
                     />
                  </g>
               </svg>
               <svg
                  className="w-28 absolute dark:fill-logoLightGreen -top-40 left-60 rotate-12"
                  version="1.1"
                  id="_x32_"
                  xmlns="http://www.w3.org/2000/svg"
                  xmlnsXlink="http://www.w3.org/1999/xlink"
                  viewBox="0 0 512 512"
                  xmlSpace="preserve">
                  <g>
                     <path
                        className="st0"
                        d="M505.837,180.418L279.265,76.124c-7.349-3.385-15.177-5.093-23.265-5.093c-8.088,0-15.914,1.708-23.265,5.093
		L6.163,180.418C2.418,182.149,0,185.922,0,190.045s2.418,7.896,6.163,9.627l226.572,104.294c7.349,3.385,15.177,5.101,23.265,5.101
		c8.088,0,15.916-1.716,23.267-5.101l178.812-82.306v82.881c-7.096,0.8-12.63,6.84-12.63,14.138c0,6.359,4.208,11.864,10.206,13.618
		l-12.092,79.791h55.676l-12.09-79.791c5.996-1.754,10.204-7.259,10.204-13.618c0-7.298-5.534-13.338-12.63-14.138v-95.148
		l21.116-9.721c3.744-1.731,6.163-5.504,6.163-9.627S509.582,182.149,505.837,180.418z"
                     />
                     <path
                        className="st0"
                        d="M256,346.831c-11.246,0-22.143-2.391-32.386-7.104L112.793,288.71v101.638
		c0,22.314,67.426,50.621,143.207,50.621c75.782,0,143.209-28.308,143.209-50.621V288.71l-110.827,51.017
		C278.145,344.44,267.25,346.831,256,346.831z"
                     />
                  </g>
               </svg>
               {/* video */}
               <svg
                  className="w-28 absolute -bottom-60 right-52 dark:fill-logoLightGreen -rotate-12"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg">
                  <path d="M16.19 2H7.81C4.17 2 2 4.17 2 7.81V16.18C2 19.83 4.17 22 7.81 22H16.18C19.82 22 21.99 19.83 21.99 16.19V7.81C22 4.17 19.83 2 16.19 2ZM14.66 13.73L13.38 14.47L12.1 15.21C10.45 16.16 9.1 15.38 9.1 13.48V12V10.52C9.1 8.61 10.45 7.84 12.1 8.79L13.38 9.53L14.66 10.27C16.31 11.22 16.31 12.78 14.66 13.73Z" />
               </svg>
               <svg
                  className="w-32 absolute -top-72 -left-72 dark:fill-logoLightGreen -rotate-45"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg">
                  <path d="M16.19 2H7.81C4.17 2 2 4.17 2 7.81V16.18C2 19.83 4.17 22 7.81 22H16.18C19.82 22 21.99 19.83 21.99 16.19V7.81C22 4.17 19.83 2 16.19 2ZM14.66 13.73L13.38 14.47L12.1 15.21C10.45 16.16 9.1 15.38 9.1 13.48V12V10.52C9.1 8.61 10.45 7.84 12.1 8.79L13.38 9.53L14.66 10.27C16.31 11.22 16.31 12.78 14.66 13.73Z" />
               </svg>
               <svg
                  className="w-32 absolute -top-12 -right-80 dark:fill-logoLightGreen rotate-12"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg">
                  <path d="M16.19 2H7.81C4.17 2 2 4.17 2 7.81V16.18C2 19.83 4.17 22 7.81 22H16.18C19.82 22 21.99 19.83 21.99 16.19V7.81C22 4.17 19.83 2 16.19 2ZM14.66 13.73L13.38 14.47L12.1 15.21C10.45 16.16 9.1 15.38 9.1 13.48V12V10.52C9.1 8.61 10.45 7.84 12.1 8.79L13.38 9.53L14.66 10.27C16.31 11.22 16.31 12.78 14.66 13.73Z" />
               </svg>
               {/* AI */}
               <svg
                  className="absolute w-40 rotate-90 -top-36 -left-96 stroke-logoLightGreen -bottom-72 "
                  viewBox="0 0 64 64"
                  xmlns="http://www.w3.org/2000/svg"
                  stroke="#000000"
                  fill="none">
                  <circle cx="34.52" cy="11.43" r="5.82" />
                  <circle cx="53.63" cy="31.6" r="5.82" />
                  <circle cx="34.52" cy="50.57" r="5.82" />
                  <circle cx="15.16" cy="42.03" r="5.82" />
                  <circle cx="15.16" cy="19.27" r="5.82" />
                  <circle cx="34.51" cy="29.27" r="4.7" />
                  <line x1="20.17" y1="16.3" x2="28.9" y2="12.93" />
                  <line x1="38.6" y1="15.59" x2="49.48" y2="27.52" />
                  <line x1="50.07" y1="36.2" x2="38.67" y2="46.49" />
                  <line x1="18.36" y1="24.13" x2="30.91" y2="46.01" />
                  <line x1="20.31" y1="44.74" x2="28.7" y2="48.63" />
                  <line x1="17.34" y1="36.63" x2="31.37" y2="16.32" />
                  <line x1="20.52" y1="21.55" x2="30.34" y2="27.1" />
                  <line x1="39.22" y1="29.8" x2="47.81" y2="30.45" />
                  <line x1="34.51" y1="33.98" x2="34.52" y2="44.74" />
               </svg>
               <svg
                  className="absolute w-60 stroke-logoLightGreen -top-80 -right-72 "
                  viewBox="0 0 64 64"
                  xmlns="http://www.w3.org/2000/svg"
                  stroke="#000000"
                  fill="none">
                  <circle cx="34.52" cy="11.43" r="5.82" />
                  <circle cx="53.63" cy="31.6" r="5.82" />
                  <circle cx="34.52" cy="50.57" r="5.82" />
                  <circle cx="15.16" cy="42.03" r="5.82" />
                  <circle cx="15.16" cy="19.27" r="5.82" />
                  <circle cx="34.51" cy="29.27" r="4.7" />
                  <line x1="20.17" y1="16.3" x2="28.9" y2="12.93" />
                  <line x1="38.6" y1="15.59" x2="49.48" y2="27.52" />
                  <line x1="50.07" y1="36.2" x2="38.67" y2="46.49" />
                  <line x1="18.36" y1="24.13" x2="30.91" y2="46.01" />
                  <line x1="20.31" y1="44.74" x2="28.7" y2="48.63" />
                  <line x1="17.34" y1="36.63" x2="31.37" y2="16.32" />
                  <line x1="20.52" y1="21.55" x2="30.34" y2="27.1" />
                  <line x1="39.22" y1="29.8" x2="47.81" y2="30.45" />
                  <line x1="34.51" y1="33.98" x2="34.52" y2="44.74" />
               </svg>
               <svg
                  className="absolute w-52 stroke-logoLightGreen -bottom-72 "
                  viewBox="0 0 64 64"
                  xmlns="http://www.w3.org/2000/svg"
                  stroke="#000000"
                  fill="none">
                  <circle cx="34.52" cy="11.43" r="5.82" />
                  <circle cx="53.63" cy="31.6" r="5.82" />
                  <circle cx="34.52" cy="50.57" r="5.82" />
                  <circle cx="15.16" cy="42.03" r="5.82" />
                  <circle cx="15.16" cy="19.27" r="5.82" />
                  <circle cx="34.51" cy="29.27" r="4.7" />
                  <line x1="20.17" y1="16.3" x2="28.9" y2="12.93" />
                  <line x1="38.6" y1="15.59" x2="49.48" y2="27.52" />
                  <line x1="50.07" y1="36.2" x2="38.67" y2="46.49" />
                  <line x1="18.36" y1="24.13" x2="30.91" y2="46.01" />
                  <line x1="20.31" y1="44.74" x2="28.7" y2="48.63" />
                  <line x1="17.34" y1="36.63" x2="31.37" y2="16.32" />
                  <line x1="20.52" y1="21.55" x2="30.34" y2="27.1" />
                  <line x1="39.22" y1="29.8" x2="47.81" y2="30.45" />
                  <line x1="34.51" y1="33.98" x2="34.52" y2="44.74" />
               </svg>
            </motion.div>
         </div>
      </div>
   );
}
